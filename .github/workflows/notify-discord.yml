name: Notify Discord on File Change

on:
  push:
    branches: [main]
    paths:
      - 'Blue Lock Rivals PC.txt' # –£–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        env:
          WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
  COMMIT_MESSAGE=$(git log -1 --pretty=%B | sed 's/"/\\"/g' | sed 's/\\n/\\\\n/g')  # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –∫–∞–≤—ã—á–∫–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
  COMMIT_AUTHOR=$(git log -1 --pretty=%an)
  PAYLOAD="{\"content\": \"üì¢ –§–∞–π–ª **Blue Lock Rivals PC.txt** –æ–±–Ω–æ–≤–ª–µ–Ω!\\n–ê–≤—Ç–æ—Ä: **$COMMIT_AUTHOR**\\n–°–æ–æ–±—â–µ–Ω–∏–µ: \\`$COMMIT_MESSAGE\\`\\n–°—Å—ã–ª–∫–∞: https://github.com/Abobus307/BlueLock/commit/$GITHUB_SHA\"}"
  echo "–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–π JSON: $PAYLOAD"  # –î–ª—è –¥–µ–±–∞–≥–∞
  curl -X POST -H "Content-Type: application/json" -d "$PAYLOAD" "$WEBHOOK_URL"
